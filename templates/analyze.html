<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Text Utils - Result</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f4f6f9;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }
      .hero {
        background: linear-gradient(135deg, #36d1dc 0%, #5b86e5 100%);
        color: #fff;
        padding: 40px 20px;
        text-align: center;
        border-radius: 16px;
        margin-bottom: 30px;
        animation: fadeInDown 1s ease-in-out;
      }
      .card {
        border-radius: 16px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      }
      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        font-size: 1rem;
        line-height: 1.6;
      }
      h5,
      h6 {
        font-weight: 600;
      }
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .result-block {
        animation: fadeInUp 0.8s ease-in-out;
      }
      .btn-copy,
      .btn-print {
        margin-right: 10px;
      }
      footer {
        background: #212529;
        color: #ccc;
        text-align: center;
        padding: 15px 10px;
        margin-top: 40px;
        border-radius: 12px 12px 0 0;
        font-size: 0.9rem;
      }
      footer a {
        color: #66a6ff;
        text-decoration: none;
        transition: color 0.3s;
      }
      footer a:hover {
        color: #36d1dc;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="/">Text Utils</a>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="container mt-4">
      <div class="hero">
        <h1 class="fw-bold">Your Results ‚ú®</h1>
        <p class="lead mb-0">Operation(s): {{ purpose }}</p>
      </div>
    </div>

    <!-- Results Section -->
    <div class="container mb-5">
      <div class="card p-4 result-block" id="resultSection">
        <!-- Summary -->
        {% if summary_text %}
        <div class="mb-4">
          <h5 class="mb-2 text-primary">üìë Summary</h5>
          <pre class="bg-light p-3 rounded">{{ summary_text }}</pre>
        </div>
        {% endif %}

        <!-- Word Count -->
        {% if word_count is not none %}
        <div class="mb-4">
          <h5 class="mb-2 text-success">üìù Word Count</h5>
          <div class="p-3 bg-light rounded">{{ word_count }} words</div>
        </div>
        {% endif %}

        <!-- Reading Time -->
        {% if reading_time is not none %}
        <div class="mb-4">
          <h5 class="mb-2 text-secondary">‚è±Ô∏è Estimated Reading Time</h5>
          <div class="p-3 bg-light rounded">{{ reading_time }} minutes</div>
        </div>
        {% endif %}

        <!-- Keyword Density -->
        {% if top_keywords %}
        <div class="mb-4">
          <h5 class="mb-2 text-warning">üîë Top Keywords</h5>
          <ul class="list-group">
            {% for word, count in top_keywords %}
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              {{ word }}
              <span class="badge bg-primary rounded-pill">{{ count }}</span>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}

        <!-- Sentiment Analysis -->
        {% if sentiment_label %}
        <div class="mb-4">
          <h5 class="mb-2 text-info">üòä Sentiment Analysis</h5>
          <div class="p-3 bg-light rounded">{{ sentiment_label }}</div>
        </div>
        {% endif %}

        <!-- Final Processed Text -->
        <div class="mb-4">
          <h5 class="mb-2 text-info">‚úÖ Final Result</h5>
          <pre id="finalText" class="bg-white p-3 rounded border">
{{ analyzed_text }}</pre
          >
        </div>

        <!-- Original Text -->
        <div class="mb-3">
          <h6 class="mb-2 text-muted">üìå Original Text</h6>
          <pre class="bg-white p-3 rounded border">{{ extra_text }}</pre>
        </div>

        <!-- Buttons -->
        <div class="mb-3 d-flex flex-wrap gap-2">
          <button
            class="btn btn-secondary btn-copy shadow"
            onclick="copyToClipboard()"
          >
            üìã Copy
          </button>
          <button
            class="btn btn-warning btn-print shadow"
            onclick="printResult()"
          >
            üñ® Print
          </button>
          <a href="/" class="btn btn-primary shadow">üîÑ Analyze Another Text</a>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <p>
        üíª Developed by
        <a href="https://github.com/InfinityAbir" target="_blank">Abir Hasan</a>
        | ¬© 2025 Text Analyzer
      </p>
    </footer>

    <script>
      function copyToClipboard() {
        const text = document.getElementById("finalText").innerText;
        navigator.clipboard.writeText(text).then(() => {
          alert("Text copied to clipboard!");
        });
      }

      function printResult() {
        const printContents =
          document.getElementById("resultSection").innerHTML;
        const originalContents = document.body.innerHTML;
        document.body.innerHTML = printContents;
        window.print();
        document.body.innerHTML = originalContents;
        location.reload();
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
